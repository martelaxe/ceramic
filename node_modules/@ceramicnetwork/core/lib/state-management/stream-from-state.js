"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.streamFromState = void 0;
const state_link_1 = require("./state-link");
function streamFromState(context, handlersMap, state, update$) {
    const handler = handlersMap.get(state.type);
    const state$ = new state_link_1.StateLink(state, update$);
    const stream = new handler.stream_constructor(state$, context);
    if (!update$) {
        stream.makeReadOnly();
    }
    return stream;
}
exports.streamFromState = streamFromState;
//# sourceMappingURL=stream-from-state.js.map